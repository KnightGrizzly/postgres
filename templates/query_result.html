{% extends "base.html" %}

{% block title %}{{ title }} - –°–∏—Å—Ç–µ–º–∞ –ø—Ä–æ–¥–∞–∂—É –∫–≤–∏—Ç–∫—ñ–≤{% endblock %}

{% block content %}
<h2>üìä {{ title }}</h2>

{% if data and columns %}
<div class="table-responsive">
    <table class="table table-striped table-hover">
        <thead class="table-dark">
            <tr>
                {% for column in columns %}
                <th>{{ column }}</th>
                {% endfor %}
            </tr>
        </thead>
        <tbody>
            {% for row in data %}
            <tr>
                {% for column in columns %}
                <td>
                    {% set value = row[column] %}
                    {% if value is none %}
                        -
                    {% elif value.__class__.__name__ == 'datetime' %}
                        {{ value.strftime('%d.%m.%Y %H:%M') }}
                    {% elif value.__class__.__name__ == 'Decimal' %}
                        {{ value }} –≥—Ä–Ω
                    {% else %}
                        {{ value }}
                    {% endif %}
                </td>
                {% endfor %}
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<div class="mt-3">
    <p class="text-muted">–ó–Ω–∞–π–¥–µ–Ω–æ –∑–∞–ø–∏—Å—ñ–≤: {{ data|length }}</p>
</div>
{% else %}
<div class="alert alert-info">
    <h4>–ù–µ–º–∞—î –¥–∞–Ω–∏—Ö</h4>
    <p>–†–µ–∑—É–ª—å—Ç–∞—Ç–∏ –Ω–µ –∑–Ω–∞–π–¥–µ–Ω—ñ –∞–±–æ –≤—ñ–¥—Å—É—Ç–Ω—î –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö.</p>
</div>
{% endif %}

<div class="mt-3">
    <a href="{{ url_for('main.index') }}" class="btn btn-secondary">‚Üê –ù–∞–∑–∞–¥ –¥–æ –≥–æ–ª–æ–≤–Ω–æ—ó</a>
</div>
{% endblock %}